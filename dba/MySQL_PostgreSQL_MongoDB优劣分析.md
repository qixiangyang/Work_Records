## MySQL、PostgreSQL、MongoDB 是目前开源的数据库中最受欢迎的的，究竟在什么情况下用什么db？本文尝试来整理一下。

### 先放上一个优劣是比较的表格

| 场景 |MySQL |PostgreSQL |MongoDB |
| :---: | :---: | :---: | :---:
| 插入 | 中  | 慢 | 快 |
| 读取 | 慢  | 快 | 中 |
| 事物 | 支持 | 支持 | 不支持 |

PostgreSQL 总体上来讲是一个各方面比较平衡的选手，在业务未定型，想用用一个db来打遍天下的，会是一个比较不错的选择

### 附上压力测试结果

    批量插入条件下
    在极限测试条件下：总数据量1kw，每次插入10w条数据，插入最长字段长度为4k个字符
    最快的还是MongoDB，其次是MySQL，最后是PostgreSQL
    MongoDB每秒可以插入数据4w条左右。 
    MySQL每秒可以插入数据0.7w条左右。 
    PostgreSQL每秒可以插入数据0.5w条左右。 
    
    在非极限条件下：
    MySQL和PostgreSQL互有胜负
    当一次性插入数据量小于或接近3w时，PostgreSQL更快，当大于3w时MySQL更快，并且当数据继续上升时，差距有被继续拉开的趋势。
    MongoDB性能比较稳定，在一次性插入小于3w时，仍能保持插入速度在4w左右。
    
    
    在逐条插入条件下
    总数据量5w，每次插入1条数据，插入最长字段长度为4k个字符
    最快的还是MongoDB，其次是PostgreSQL，最后是MySQL
    
    MongoDB每秒可以插入数据4k条左右。 
    PostgreSQL每秒可以插入数据2.5k条左右。 
    MySQL每秒可以插入数据0.15k条左右。
    
    可以看到MySQL在逐条插入时，性能非常差，在使用MySQL时，应当避免逐条插入。
    总体来看，MongoDB的插入数据很快，特别适合于快速插入数据的场景。
    
    
    2. 数据查询
  

### 压力测试代码见stress_test文件
    
